<!DOCTYPE html>
<html>
<head>
  <title>Upload Homework</title>
  <!-- Include Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
  <script>
    // Your Firebase configuration object
    var firebaseConfig = {
      apiKey: "AIzaSyAqL2Qw8PMsvF_68VlNxCaKKt9ldTClbP4",
      authDomain: "upload-372ff.firebaseapp.com",
      projectId: "upload-372ff",
      storageBucket: "upload-372ff.appspot.com",
      messagingSenderId: "967062218795",
      appId: "1:967062218795:web:083e9c6a2ebdf2b7d8626e",
      measurementId: "G-VBJ93FPBJ5"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    // Function to handle file upload
    function saveUploadedFiles() {
      const fileInput = document.getElementById("homeworkFiles");
      const files = fileInput.files;

      // Reference to Firebase Cloud Storage
      var storageRef = firebase.storage().ref();

      // Loop through the selected files and upload them to Firebase Storage
      for (let i = 0; i < files.length; i++) {
        const file = files[i];
        const uniqueSuffix = Date.now() + "-" + Math.round(Math.random() * 1e9);
        const fileName = "homework-" + uniqueSuffix + "-" + file.name;

        // Upload the file to Firebase Storage
        var fileRef = storageRef.child(fileName);
        fileRef.put(file).then(function(snapshot) {
          console.log("File uploaded successfully!");
        }).catch(function(error) {
          console.error("Error uploading file:", error);
        });
      }
    }
  </script>
</head>
<body>
  <h1>Upload Homework</h1>
  <div class="upload-form">
    <form onsubmit="saveUploadedFiles()" enctype="multipart/form-data">
      <label for="homeworkFiles">Select Homework Files:</label>
      <input type="file" id="homeworkFiles" name="homeworkFiles[]" accept=".pdf, .doc, .docx, .txt" multiple>
      <br>
      <input type="submit" value="Upload Homework">
    </form>
  </div>
</body>
</html>
